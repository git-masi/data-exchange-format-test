<html>

<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load("current", { packages: ["corechart", "bar"] });
        google.charts.setOnLoadCallback(drawChart);

        async function drawChart() {
            const data = {
                binary_message_latency_microseconds_bucket: [
                    ['Latency (microseconds)', 'Number of Requests'],
                    ['5', 0],
                    ['10', 1],
                    ['15', 8],
                    ['20', 35],
                    ['25', 99],
                    ['30', 290],
                    ['35', 536],
                    ['40', 698],
                    ['45', 812],
                    ['50', 900],
                    ['55', 971],
                    ['60', 1015],
                    ['65', 1030],
                    ['70', 1038],
                    ['75', 1042],
                    ['80', 1047],
                    ['+Inf', 1059]
                ],
                json_message_latency_milliseconds_bucket: [
                    ['Latency (milliseconds)', 'Number of Requests'],
                    ['5', 2],
                    ['6', 2],
                    ['7', 8],
                    ['8', 93],
                    ['9', 151],
                    ['10', 807],
                    ['11', 1001],
                    ['12', 1028],
                    ['13', 1029],
                    ['14', 1030],
                    ['15', 1030],
                    ['16', 1032],
                    ['17', 1032],
                    ['18', 1032],
                    ['19', 1032],
                    ['20', 1032],
                    ['+Inf', 1032]
                ]
            };

            Object.entries(data).forEach(([key, value]) => {
                const data = google.visualization.arrayToDataTable(value);

                const options = {
                    title: key.replace("_", " ").replace("bucket", ""),
                    legend: { position: "none" },
                };

                const body = document.querySelector("body");

                const div = document.createElement("div");

                div.setAttribute("style", "width: 900px; height: 500px; margin-bottom: 20px")

                body.appendChild(div);

                const chart = new google.charts.Bar(div);

                chart.draw(data, options);
            });
        }
    </script>
</head>

<body></body>

</html>